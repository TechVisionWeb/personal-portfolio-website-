const submitButton=document.querySelector("form button"),dropdowns=document.getElementsByTagName("select"),inputs=document.getElementsByTagName("input");inputs[2].value=0,inputs[3].value=0;for(let e=0;e<dropdowns.length;e++)dropdowns[e].addEventListener("input",function(){for(let e=0;e<inputs.length;e++)inputs[e].value=e<2?"":0});function fetchFunction(){fetch(getInformation()).then(e=>e.json()).then(e=>displayData(e)).catch(e=>{console.error("Error:",e)})}function displayData(e){scurrencyValueUpperCase=dropdowns[0].options[dropdowns[0].selectedIndex].value.toUpperCase(),dcurrencyValueUpperCase=(dcurrencyValueLowerCase=dropdowns[1].options[dropdowns[1].selectedIndex].value).toUpperCase(),inputs[0].value="1 "+scurrencyValueUpperCase+" = "+getConversionValue(e,dcurrencyValueLowerCase)+" "+dcurrencyValueUpperCase,inputs[1].value=getDateTimeStamp(e),printTransaction(scurrencyValueUpperCase,e,dcurrencyValueLowerCase,dcurrencyValueUpperCase)}function printTransaction(e,t,n,o){inputs[3].value=parseFloat(Math.floor(100*inputs[2].value)/100).toFixed(2)+" "+e+" = "+getTransactionAmount(t,n).toFixed(2)+" "+o}function getTransactionAmount(e,t){return Math.round(e[t].rate*inputs[2].value*100)/100}function getDateTimeStamp(){return(dateTimeStringArray=(new Date).toLocaleString("en-UK",{timeZone:"GMT"}).split(","))[0]+" at "+dateTimeStringArray[1]}function getConversionValue(e,t){return parseFloat(e[t].rate)}function getInformation(){return" https://www.floatrates.com/daily/"+(fileName=dropdowns[0].options[dropdowns[0].selectedIndex].value+".json")}submitButton.addEventListener("click",function(e){console.log(" https://www.floatrates.com/daily/"),e.preventDefault(),dropdowns[1].options[dropdowns[1].selectedIndex].value==dropdowns[0].options[dropdowns[0].selectedIndex].value?inputs[0].value="error: same source & destination":inputs[2].value<=0?inputs[3].value="error: source must be more than zero":inputs[2].value>=1e6?inputs[3].value="error: source must be less than one million":100*inputs[2].value%1!=0?(inputs[3].value="error: source must be a whole number or shown up to 2 decimal places",inputs[2].value=0):fetchFunction()});