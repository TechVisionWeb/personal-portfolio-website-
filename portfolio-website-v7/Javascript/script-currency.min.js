const submitButton=document.querySelector("form button"),dropdowns=document.getElementsByTagName("select"),inputs=document.getElementsByTagName("input");inputs[2].value=0,inputs[3].value=0;for(let e=0;e<dropdowns.length;e++)dropdowns[e].addEventListener("input",function(){for(let t=0;t<inputs.length;t++)inputs[t].value=t<2?"":0});function fetchFunction(){fetch(getInformation()).then(t=>t.json()).then(t=>displayData(t)).catch(t=>{console.error("Error:",t)})}function displayData(t){scurrencyValueUpperCase=dropdowns[0].options[dropdowns[0].selectedIndex].value.toUpperCase(),dcurrencyValueUpperCase=(dcurrencyValueLowerCase=dropdowns[1].options[dropdowns[1].selectedIndex].value).toUpperCase(),conversionValue=getConversionValue(t,dcurrencyValueLowerCase),inputs[0].value="1 "+scurrencyValueUpperCase+" = "+conversionValue+" "+dcurrencyValueUpperCase,inputs[1].value=getDateTimeStamp(t),printTransaction(scurrencyValueUpperCase,t,dcurrencyValueLowerCase,dcurrencyValueUpperCase)}function printTransaction(t,n,o,s){inputs[3].value=parseFloat(Math.floor(100*inputs[2].value)/100).toFixed(2)+" "+t+" = "+getTransactionAmount(n,o)+" "+s}function getTransactionAmount(t,n){return Math.round(t[n].rate*inputs[2].value*100)/100}function getDateTimeStamp(){return(dateTimeStringArray=new Date().toLocaleString("en-UK",{timeZone:"GMT"}).split(","))[0]+" at "+dateTimeStringArray[1]}function getConversionValue(t,n){return parseFloat(t[n].rate)}function getInformation(){return" https://www.floatrates.com/daily/"+(fileName=dropdowns[0].options[dropdowns[0].selectedIndex].value+".json")}submitButton.addEventListener("click",function(t){console.log(" https://www.floatrates.com/daily/"),t.preventDefault(),dropdowns[1].options[dropdowns[1].selectedIndex].value==dropdowns[0].options[dropdowns[0].selectedIndex].value?inputs[0].value="error: same source & destination":inputs[2].value<=0?inputs[3].value="error: source must be more than zero":inputs[2].value>=1e6?inputs[3].value="error: source must be less than one million":100*inputs[2].value%1!=0?(inputs[3].value="error: source must be a whole number or shown up to 2 decimal places",inputs[2].value=0):fetchFunction()});